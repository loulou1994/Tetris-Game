{"id":"QTdR","dependencies":[{"name":"/project/home/le.gas.du43/workspace/tsconfig.json","includedInParent":true,"mtime":1682936705080},{"name":"/project/home/le.gas.du43/workspace/package.json","includedInParent":true,"mtime":1682936705080},{"name":"./types&declarations","loc":{"line":4,"column":35,"index":199},"parent":"/project/home/le.gas.du43/workspace/src/tetrisBoard.ts","resolved":"/project/home/le.gas.du43/workspace/src/types&declarations.ts"},{"name":"./utils","loc":{"line":5,"column":22,"index":246},"parent":"/project/home/le.gas.du43/workspace/src/tetrisBoard.ts","resolved":"/project/home/le.gas.du43/workspace/src/utils.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Board=exports.GRID_ROWS=exports.GRID_COLUMNS=exports.TILE_SIZE=void 0;var t=require(\"./types&declarations\"),e=require(\"./utils\");exports.TILE_SIZE=30,exports.GRID_COLUMNS=t.canvas.width/exports.TILE_SIZE,exports.GRID_ROWS=t.canvas.height/exports.TILE_SIZE;var i=function(){function t(t){this.score=0,this.blankSpace=4,this.map=(0,e.newBoard)(),this.tileSize=t}return t.prototype.draw=function(t){var e=this;t.fillStyle=\"#bca0dc\",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=\"#fff\";for(var i=0;i<=this.map[0].length;++i){var a=i*this.tileSize-this.blankSpace>=0?i*this.tileSize-this.blankSpace:0;t.fillRect(a,0,this.blankSpace,t.canvas.height)}for(var r=0;r<=this.map.length;++r){var s=r*this.tileSize-this.blankSpace>=0?r*this.tileSize-this.blankSpace:0;t.fillRect(0,s,t.canvas.width,this.blankSpace)}this.map.forEach(function(i){i.forEach(function(i){i.filled&&(t.fillStyle=i.squareColor,t.fillRect(i.x*e.tileSize,i.y*e.tileSize,e.tileSize,e.tileSize))})})},t.prototype.removeBoardRow=function(){for(var t=0;t<this.map.length;++t){for(var e=!0,i=0;i<this.map[t].length;++i)this.map[t][i].filled||(e=!1);if(e){this.score+=2;for(var a=t;a>0;--a)for(var r=0;r<this.map[a].length;++r)this.map[a][r].filled=this.map[a-1][r].filled,this.map[a][r].squareColor=this.map[a-1][r].squareColor;for(var s=0;s<exports.GRID_COLUMNS;++s)this.map[0][s]={x:s,y:exports.GRID_ROWS-1,filled:!1,squareColor:\"transparent\"}}}},t}();exports.Board=i;"},"sourceMaps":{"js":{"mappings":[{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":0}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":13}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":20}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":35}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":43}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":56}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":57}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":64}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":68}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":76}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":82}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":90}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":100}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":108}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":121}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":129}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":144}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":146}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":150}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":152}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":160}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":184}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":186}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":194}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":205}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":213}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":6,"column":25},"generated":{"line":1,"column":223}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":1,"column":226}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":7,"column":13},"generated":{"line":1,"column":234}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":7,"column":28},"generated":{"line":1,"column":247}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":7,"column":28},"generated":{"line":1,"column":249}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":7,"column":35},"generated":{"line":1,"column":256}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":7,"column":43},"generated":{"line":1,"column":262}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":7,"column":43},"generated":{"line":1,"column":270}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":8,"column":13},"generated":{"line":1,"column":280}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":8,"column":13},"generated":{"line":1,"column":288}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":8,"column":25},"generated":{"line":1,"column":298}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":8,"column":25},"generated":{"line":1,"column":300}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":8,"column":32},"generated":{"line":1,"column":307}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":8,"column":41},"generated":{"line":1,"column":314}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":8,"column":41},"generated":{"line":1,"column":322}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":332}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":336}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":338}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":349}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":358}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":360}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":363}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":368}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":13,"column":10},"generated":{"line":1,"column":374}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":376}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":381}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":14,"column":15},"generated":{"line":1,"column":392}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":394}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":399}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":17,"column":15},"generated":{"line":1,"column":404}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":17,"column":15},"generated":{"line":1,"column":406}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":17,"column":15},"generated":{"line":1,"column":408}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":420}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":425}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":18,"column":20},"generated":{"line":1,"column":434}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":85,"column":0},"generated":{"line":1,"column":436}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":443}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":445}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":455}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":460}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":21,"column":7},"generated":{"line":1,"column":469}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":472}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":476}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":478}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":483}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":485}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":23,"column":20},"generated":{"line":1,"column":495}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":505}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":507}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":17},"generated":{"line":1,"column":516}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":20},"generated":{"line":1,"column":518}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":23},"generated":{"line":1,"column":520}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":522}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":34},"generated":{"line":1,"column":529}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":41},"generated":{"line":1,"column":535}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":45},"generated":{"line":1,"column":537}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":24,"column":52},"generated":{"line":1,"column":544}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":552}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":554}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":27,"column":20},"generated":{"line":1,"column":564}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":571}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":575}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":579}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":581}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":583}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":25},"generated":{"line":1,"column":586}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":30},"generated":{"line":1,"column":591}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":34},"generated":{"line":1,"column":595}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":37},"generated":{"line":1,"column":598}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":47},"generated":{"line":1,"column":607}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":28,"column":50},"generated":{"line":1,"column":609}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":1,"column":610}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":614}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":616}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":618}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":30,"column":17},"generated":{"line":1,"column":623}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":30,"column":28},"generated":{"line":1,"column":632}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":30,"column":33},"generated":{"line":1,"column":637}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":30,"column":47},"generated":{"line":1,"column":649}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":651}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":1,"column":653}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":31,"column":21},"generated":{"line":1,"column":658}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":31,"column":32},"generated":{"line":1,"column":667}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":31,"column":37},"generated":{"line":1,"column":672}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":683}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":685}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":10},"generated":{"line":1,"column":687}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":696}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":698}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":25},"generated":{"line":1,"column":700}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":30},"generated":{"line":1,"column":705}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":42},"generated":{"line":1,"column":716}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":46},"generated":{"line":1,"column":718}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":33,"column":53},"generated":{"line":1,"column":725}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":733}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":737}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":13},"generated":{"line":1,"column":741}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":1,"column":743}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":745}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":25},"generated":{"line":1,"column":748}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":30},"generated":{"line":1,"column":753}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":34},"generated":{"line":1,"column":757}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":44},"generated":{"line":1,"column":766}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":35,"column":47},"generated":{"line":1,"column":768}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":769}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":773}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":775}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":777}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":37,"column":17},"generated":{"line":1,"column":782}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":37,"column":28},"generated":{"line":1,"column":791}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":37,"column":33},"generated":{"line":1,"column":796}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":37,"column":47},"generated":{"line":1,"column":808}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":810}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":812}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":1,"column":817}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":38,"column":32},"generated":{"line":1,"column":826}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":38,"column":37},"generated":{"line":1,"column":831}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":842}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":844}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":10},"generated":{"line":1,"column":846}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":19},"generated":{"line":1,"column":855}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":857}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":859}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":29},"generated":{"line":1,"column":861}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":36},"generated":{"line":1,"column":868}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":43},"generated":{"line":1,"column":874}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":40,"column":48},"generated":{"line":1,"column":879}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":891}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":896}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":900}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":43,"column":21},"generated":{"line":1,"column":908}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":917}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":1,"column":920}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":922}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":44,"column":18},"generated":{"line":1,"column":930}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":44,"column":19},"generated":{"line":1,"column":939}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":942}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":45,"column":19},"generated":{"line":1,"column":944}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":1,"column":953}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":46,"column":14},"generated":{"line":1,"column":955}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":46,"column":26},"generated":{"line":1,"column":965}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":967}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":47,"column":10},"generated":{"line":1,"column":979}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":47,"column":14},"generated":{"line":1,"column":981}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":990}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":992}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":48,"column":23},"generated":{"line":1,"column":994}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":48,"column":28},"generated":{"line":1,"column":996}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":1005}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":1007}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":49,"column":23},"generated":{"line":1,"column":1009}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":1,"column":1011}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":1020}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":50,"column":17},"generated":{"line":1,"column":1022}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":1031}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":51,"column":17},"generated":{"line":1,"column":1033}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":1049}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":1051}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":1061}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":1076}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":1087}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":1,"column":1091}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":13},"generated":{"line":1,"column":1095}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":17},"generated":{"line":1,"column":1097}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":1099}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":24},"generated":{"line":1,"column":1101}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":29},"generated":{"line":1,"column":1106}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":1,"column":1110}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":43},"generated":{"line":1,"column":1119}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":59,"column":46},"generated":{"line":1,"column":1121}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":6},"generated":{"line":1,"column":1122}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1126}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":1,"column":1130}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":60,"column":21},"generated":{"line":1,"column":1133}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":15},"generated":{"line":1,"column":1135}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":27},"generated":{"line":1,"column":1137}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":30},"generated":{"line":1,"column":1139}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":34},"generated":{"line":1,"column":1141}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":39},"generated":{"line":1,"column":1146}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":43},"generated":{"line":1,"column":1150}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":46},"generated":{"line":1,"column":1153}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":61,"column":56},"generated":{"line":1,"column":1162}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":1164}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":62,"column":18},"generated":{"line":1,"column":1169}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":62,"column":22},"generated":{"line":1,"column":1173}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":62,"column":25},"generated":{"line":1,"column":1176}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":1179}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":63,"column":10},"generated":{"line":1,"column":1188}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":63,"column":21},"generated":{"line":1,"column":1191}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":1194}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":1197}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":66,"column":20},"generated":{"line":1,"column":1199}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":1200}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":1,"column":1205}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":67,"column":22},"generated":{"line":1,"column":1212}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1214}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":1,"column":1218}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":68,"column":17},"generated":{"line":1,"column":1222}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":68,"column":21},"generated":{"line":1,"column":1224}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":68,"column":24},"generated":{"line":1,"column":1226}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":68,"column":28},"generated":{"line":1,"column":1228}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":68,"column":33},"generated":{"line":1,"column":1232}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":1,"column":1234}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":15},"generated":{"line":1,"column":1238}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":19},"generated":{"line":1,"column":1242}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":23},"generated":{"line":1,"column":1244}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":26},"generated":{"line":1,"column":1246}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":1,"column":1248}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":35},"generated":{"line":1,"column":1253}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":39},"generated":{"line":1,"column":1257}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":42},"generated":{"line":1,"column":1260}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":69,"column":52},"generated":{"line":1,"column":1269}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":1,"column":1271}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":17},"generated":{"line":1,"column":1276}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":1280}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":24},"generated":{"line":1,"column":1283}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":27},"generated":{"line":1,"column":1286}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":36},"generated":{"line":1,"column":1293}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":41},"generated":{"line":1,"column":1298}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":45},"generated":{"line":1,"column":1302}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":49},"generated":{"line":1,"column":1304}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":52},"generated":{"line":1,"column":1307}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":70,"column":55},"generated":{"line":1,"column":1310}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":1,"column":1317}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":17},"generated":{"line":1,"column":1322}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1326}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":24},"generated":{"line":1,"column":1329}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":27},"generated":{"line":1,"column":1332}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":41},"generated":{"line":1,"column":1344}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":46},"generated":{"line":1,"column":1349}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":50},"generated":{"line":1,"column":1353}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":54},"generated":{"line":1,"column":1355}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":57},"generated":{"line":1,"column":1358}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":71,"column":60},"generated":{"line":1,"column":1361}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1373}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":74,"column":13},"generated":{"line":1,"column":1377}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":74,"column":17},"generated":{"line":1,"column":1381}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":74,"column":21},"generated":{"line":1,"column":1383}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":74,"column":24},"generated":{"line":1,"column":1385}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":74,"column":28},"generated":{"line":1,"column":1387}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":74,"column":28},"generated":{"line":1,"column":1395}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":74,"column":44},"generated":{"line":1,"column":1410}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":75,"column":10},"generated":{"line":1,"column":1412}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":75,"column":15},"generated":{"line":1,"column":1417}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":75,"column":19},"generated":{"line":1,"column":1421}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":75,"column":22},"generated":{"line":1,"column":1424}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":1427}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":1428}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":76,"column":15},"generated":{"line":1,"column":1430}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":1432}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":1,"column":1434}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":1,"column":1442}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":77,"column":27},"generated":{"line":1,"column":1452}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":78,"column":12},"generated":{"line":1,"column":1454}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":78,"column":20},"generated":{"line":1,"column":1462}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":79,"column":12},"generated":{"line":1,"column":1464}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":79,"column":25},"generated":{"line":1,"column":1476}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":85,"column":0},"generated":{"line":1,"column":1494}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":1496}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":1499}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":1507}},{"source":"src/tetrisBoard.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":1513}}],"sources":{"src/tetrisBoard.ts":"import { gridCord } from \"./types&declarations\";\r\nimport { canvas } from \"./types&declarations\";\r\nimport { newBoard } from \"./utils\";\r\n\r\n//tetris board dimensions\r\nexport const TILE_SIZE = 30;\r\nexport const GRID_COLUMNS = canvas.width / TILE_SIZE;\r\nexport const GRID_ROWS = canvas.height / TILE_SIZE;\r\n\r\nexport class Board {\r\n  map: gridCord[][];\r\n  tileSize: number;\r\n  score = 0;\r\n  blankSpace = 4;\r\n\r\n  constructor(tileSize: number) {\r\n    this.map = newBoard();\r\n    this.tileSize = tileSize;\r\n  }\r\n\r\n  draw(ctx: CanvasRenderingContext2D) {\r\n    // draw map bg color\r\n    ctx.fillStyle = \"#bca0dc\";\r\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n\r\n    //white space separator between tiles\r\n    ctx.fillStyle = \"#fff\";\r\n    for (let i = 0; i <= this.map[0].length; ++i) {\r\n      const x =\r\n        i * this.tileSize - this.blankSpace >= 0\r\n          ? i * this.tileSize - this.blankSpace\r\n          : 0;\r\n      ctx.fillRect(x, 0, this.blankSpace, ctx.canvas.height);\r\n    }\r\n    for (let j = 0; j <= this.map.length; ++j) {\r\n      const y =\r\n        j * this.tileSize - this.blankSpace >= 0\r\n          ? j * this.tileSize - this.blankSpace\r\n          : 0;\r\n      ctx.fillRect(0, y, ctx.canvas.width, this.blankSpace);\r\n    }\r\n\r\n    this.map.forEach((row) => {\r\n      row.forEach((column) => {\r\n        if (column.filled) {\r\n          ctx.fillStyle = column.squareColor;\r\n          ctx.fillRect(\r\n            column.x * this.tileSize,\r\n            column.y * this.tileSize,\r\n            this.tileSize,\r\n            this.tileSize\r\n          );\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  removeBoardRow() {\r\n    for (let i = 0; i < this.map.length; ++i) {\r\n      let isFilled = true;\r\n      for (let j: number = 0; j < this.map[i].length; ++j) {\r\n        if (!this.map[i][j].filled) {\r\n          isFilled = false;\r\n        }\r\n      }\r\n      if (isFilled) {\r\n        this.score += 2;\r\n        for (let k = i; k > 0; --k) {\r\n          for (let l = 0; l < this.map[k].length; ++l) {\r\n            this.map[k][l].filled = this.map[k - 1][l].filled;\r\n            this.map[k][l].squareColor = this.map[k - 1][l].squareColor;\r\n          }\r\n        }\r\n        for (let i = 0; i < GRID_COLUMNS; ++i) {\r\n          this.map[0][i] = {\r\n            x: i,\r\n            y: GRID_ROWS - 1,\r\n            filled: false,\r\n            squareColor: \"transparent\"\r\n          };\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"97cf4ac7f969219c3fe86fcc21dcedd9","cacheData":{"env":{}}}